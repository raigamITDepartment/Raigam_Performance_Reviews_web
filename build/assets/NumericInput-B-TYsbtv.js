import{a3 as X,r as _,j as ce}from"./index-B5IrYwSf.js";import{I as Oe}from"./index.esm-CCO8k5GL.js";function xe(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}var te;(function(e){e.event="event",e.props="prop"})(te||(te={}));function q(){}function Te(e){var r,t=void 0;return function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return r&&n.length===r.length&&n.every(function(o,f){return o===r[f]})||(r=n,t=e.apply(void 0,n)),t}}function ae(e){return!!(e||"").match(/\d/)}function Y(e){return e==null}function Fe(e){return typeof e=="number"&&isNaN(e)}function pe(e){return Y(e)||Fe(e)||typeof e=="number"&&!isFinite(e)}function Ve(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function _e(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function je(e,r,t){var n=_e(t),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+r)}function Me(e){var r=_.useRef(e);r.current=e;var t=_.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return r.current.apply(r,n)});return t.current}function se(e,r){r===void 0&&(r=!0);var t=e[0]==="-",n=t&&r;e=e.replace("-","");var a=e.split("."),o=a[0],f=a[1]||"";return{beforeDecimal:o,afterDecimal:f,hasNegation:t,addNegation:n}}function Le(e){if(!e)return e;var r=e[0]==="-";r&&(e=e.substring(1,e.length));var t=e.split("."),n=t[0].replace(/^0+/,"")||"0",a=t[1]||"";return(r?"-":"")+n+(a?"."+a:"")}function ye(e,r,t){for(var n="",a=t?"0":"",o=0;o<=r-1;o++)n+=e[o]||a;return n}function ge(e,r){return Array(r+1).join(e)}function be(e){var r=e+"",t=r[0]==="-"?"-":"";t&&(r=r.substring(1));var n=r.split(/[eE]/g),a=n[0],o=n[1];if(o=Number(o),!o)return t+a;a=a.replace(".","");var f=1+o,m=a.length;return f<0?a="0."+ge("0",Math.abs(f))+a:f>=m?a=a+ge("0",f-m):a=(a.substring(0,f)||"0")+"."+a.substring(f),t+a}function me(e,r,t){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||t)&&r,a=se(e),o=a.beforeDecimal,f=a.afterDecimal,m=a.hasNegation,V=parseFloat("0."+(f||"0")),y=f.length<=r?"0."+f:V.toFixed(r),S=y.split("."),g=o;o&&Number(S[0])&&(g=o.split("").reverse().reduce(function(I,C,d){return I.length>d?(Number(I[0])+Number(C)).toString()+I.substring(1,I.length):C+I},S[0]));var h=ye(S[1]||"",r,t),x=m?"-":"",v=n?".":"";return""+x+g+v+h}function H(e,r){if(e.value=e.value,e!==null){if(e.createTextRange){var t=e.createTextRange();return t.move("character",r),t.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(r,r),!0):(e.focus(),!1)}}var Ne=Te(function(e,r){for(var t=0,n=0,a=e.length,o=r.length;e[t]===r[t]&&t<a;)t++;for(;e[a-1-n]===r[o-1-n]&&o-n>t&&a-n>t;)n++;return{from:{start:t,end:a-n},to:{start:t,end:o-n}}}),ke=function(e,r){var t=Math.min(e.selectionStart,r);return{from:{start:t,end:e.selectionEnd},to:{start:t,end:r}}};function Pe(e,r,t){return Math.min(Math.max(e,r),t)}function ve(e){return Math.max(e.selectionStart,e.selectionEnd)}function Ke(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Ue(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function We(e){var r=e.currentValue,t=e.formattedValue,n=e.currentValueIndex,a=e.formattedValueIndex;return r[n]===t[a]}function $e(e,r,t,n,a,o,f){f===void 0&&(f=We);var m=a.findIndex(function(k){return k}),V=e.slice(0,m);!r&&!t.startsWith(V)&&(r=V,t=V+t,n=n+V.length);for(var y=t.length,S=e.length,g={},h=new Array(y),x=0;x<y;x++){h[x]=-1;for(var v=0,I=S;v<I;v++){var C=f({currentValue:t,lastValue:r,formattedValue:e,currentValueIndex:x,formattedValueIndex:v});if(C&&g[v]!==!0){h[x]=v,g[v]=!0;break}}}for(var d=n;d<y&&(h[d]===-1||!o(t[d]));)d++;var O=d===y||h[d]===-1?S:h[d];for(d=n-1;d>0&&h[d]===-1;)d--;var T=d===-1||h[d]===-1?0:h[d]+1;return T>O?O:n-T<O-n?T:O}function he(e,r,t,n){var a=e.length;if(r=Pe(r,0,a),n==="left"){for(;r>=0&&!t[r];)r--;r===-1&&(r=t.indexOf(!0))}else{for(;r<=a&&!t[r];)r++;r>a&&(r=t.lastIndexOf(!0))}return r===-1&&(r=a),r}function Ge(e){for(var r=Array.from({length:e.length+1}).map(function(){return!0}),t=0,n=r.length;t<n;t++)r[t]=!!(ae(e[t])||ae(e[t-1]));return r}function we(e,r,t,n,a,o){o===void 0&&(o=q);var f=Me(function(v,I){var C,d;return pe(v)?(d="",C=""):typeof v=="number"||I?(d=typeof v=="number"?be(v):v,C=n(d)):(d=a(v,void 0),C=n(d)),{formattedValue:C,numAsString:d}}),m=_.useState(function(){return f(Y(e)?r:e,t)}),V=m[0],y=m[1],S=function(v,I){v.formattedValue!==V.formattedValue&&y({formattedValue:v.formattedValue,numAsString:v.value}),o(v,I)},g=e,h=t;Y(e)&&(g=V.numAsString,h=!0);var x=f(g,h);return _.useMemo(function(){y(x)},[x.formattedValue]),[V,S]}function Ze(e){return e.replace(/[^0-9]/g,"")}function qe(e){return e}function ze(e){var r=e.type;r===void 0&&(r="text");var t=e.displayType;t===void 0&&(t="input");var n=e.customInput,a=e.renderText,o=e.getInputRef,f=e.format;f===void 0&&(f=qe);var m=e.removeFormatting;m===void 0&&(m=Ze);var V=e.defaultValue,y=e.valueIsNumericString,S=e.onValueChange,g=e.isAllowed,h=e.onChange;h===void 0&&(h=q);var x=e.onKeyDown;x===void 0&&(x=q);var v=e.onMouseUp;v===void 0&&(v=q);var I=e.onFocus;I===void 0&&(I=q);var C=e.onBlur;C===void 0&&(C=q);var d=e.value,O=e.getCaretBoundary;O===void 0&&(O=Ge);var T=e.isValidInputCharacter;T===void 0&&(T=ae);var k=e.isCharacterSame,j=xe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),z=we(d,V,!!y,f,m,S),P=z[0],b=P.formattedValue,M=P.numAsString,U=z[1],L=_.useRef(),W=_.useRef({formattedValue:b,numAsString:M}),$=function(i,u){W.current={formattedValue:i.formattedValue,numAsString:i.value},U(i,u)},J=_.useState(!1),ee=J[0],s=J[1],l=_.useRef(null),N=_.useRef({setCaretTimeout:null,focusTimeout:null});_.useEffect(function(){return s(!0),function(){clearTimeout(N.current.setCaretTimeout),clearTimeout(N.current.focusTimeout)}},[]);var A=f,R=function(i,u){var c=parseFloat(u);return{formattedValue:i,value:u,floatValue:isNaN(c)?void 0:c}},E=function(i,u,c){i.selectionStart===0&&i.selectionEnd===i.value.length||(H(i,u),N.current.setCaretTimeout=setTimeout(function(){i.value===c&&i.selectionStart!==u&&H(i,u)},0))},B=function(i,u,c){return he(i,u,O(i),c)},Q=function(i,u,c){var w=O(u),F=$e(u,b,i,c,w,T,k);return F=he(u,F,w),F},oe=function(i){var u=i.formattedValue;u===void 0&&(u="");var c=i.input,w=i.source,F=i.event,D=i.numAsString,p;if(c){var K=i.inputValue||c.value,G=ve(c);c.value=u,p=Q(K,u,G),p!==void 0&&E(c,p,u)}u!==b&&$(R(u,D),{event:F,source:w})};_.useEffect(function(){var i=W.current,u=i.formattedValue,c=i.numAsString;(b!==u||M!==c)&&$(R(b,M),{event:void 0,source:te.props})},[b,M]);var re=l.current?ve(l.current):void 0,ne=typeof window<"u"?_.useLayoutEffect:_.useEffect;ne(function(){var i=l.current;if(b!==W.current.formattedValue&&i){var u=Q(W.current.formattedValue,b,re);i.value=b,E(i,u,b)}},[b]);var ue=function(i,u,c){var w=u.target,F=L.current?ke(L.current,w.selectionEnd):Ne(b,i),D=Object.assign(Object.assign({},F),{lastValue:b}),p=m(i,D),K=A(p);if(p=m(K,void 0),g&&!g(R(K,p))){var G=u.target,Z=ve(G),le=Q(i,b,Z);return G.value=b,E(G,le,b),!1}return oe({formattedValue:K,numAsString:p,inputValue:i,event:u,source:c,input:u.target}),!0},fe=function(i,u){u===void 0&&(u=0);var c=i.selectionStart,w=i.selectionEnd;L.current={selectionStart:c,selectionEnd:w+u}},De=function(i){var u=i.target,c=u.value,w=ue(c,i,te.event);w&&h(i),L.current=void 0},Ie=function(i){var u=i.target,c=i.key,w=u.selectionStart,F=u.selectionEnd,D=u.value;D===void 0&&(D="");var p;c==="ArrowLeft"||c==="Backspace"?p=Math.max(w-1,0):c==="ArrowRight"?p=Math.min(w+1,D.length):c==="Delete"&&(p=w);var K=0;c==="Delete"&&w===F&&(K=1);var G=c==="ArrowLeft"||c==="ArrowRight";if(p===void 0||w!==F&&!G){x(i),fe(u,K);return}var Z=p;if(G){var le=c==="ArrowLeft"?"left":"right";Z=B(D,p,le),Z!==p&&i.preventDefault()}else c==="Delete"&&!T(D[p])?Z=B(D,p,"right"):c==="Backspace"&&!T(D[p])&&(Z=B(D,p,"left"));Z!==p&&E(u,Z,D),x(i),fe(u,K)},Ce=function(i){var u=i.target,c=function(){var w=u.selectionStart,F=u.selectionEnd,D=u.value;if(D===void 0&&(D=""),w===F){var p=B(D,w);p!==w&&E(u,p,D)}};c(),requestAnimationFrame(function(){c()}),v(i),fe(u)},Ee=function(i){i.persist&&i.persist();var u=i.target,c=i.currentTarget;l.current=u,N.current.focusTimeout=setTimeout(function(){var w=u.selectionStart,F=u.selectionEnd,D=u.value;D===void 0&&(D="");var p=B(D,w);p!==w&&!(w===0&&F===D.length)&&E(u,p,D),I(Object.assign(Object.assign({},i),{currentTarget:c}))},0)},Ae=function(i){l.current=null,clearTimeout(N.current.focusTimeout),clearTimeout(N.current.setCaretTimeout),C(i)},Re=ee&&Ke()?"numeric":void 0,de=Object.assign({inputMode:Re},j,{type:r,value:b,onChange:De,onKeyDown:Ie,onMouseUp:Ce,onFocus:Ee,onBlur:Ae});if(t==="text")return a?X.createElement(X.Fragment,null,a(b,j)||null):X.createElement("span",Object.assign({},j,{ref:o}),b);if(n){var Be=n;return X.createElement(Be,Object.assign({},de,{ref:o}))}return X.createElement("input",Object.assign({},de,{ref:o}))}function Se(e,r){var t=r.decimalScale,n=r.fixedDecimalScale,a=r.prefix;a===void 0&&(a="");var o=r.suffix;o===void 0&&(o="");var f=r.allowNegative,m=r.thousandsGroupStyle;if(m===void 0&&(m="thousand"),e===""||e==="-")return e;var V=ie(r),y=V.thousandSeparator,S=V.decimalSeparator,g=t!==0&&e.indexOf(".")!==-1||t&&n,h=se(e,f),x=h.beforeDecimal,v=h.afterDecimal,I=h.addNegation;return t!==void 0&&(v=ye(v,t,!!n)),y&&(x=je(x,y,m)),a&&(x=a+x),o&&(v=v+o),I&&(x="-"+x),e=x+(g&&S||"")+v,e}function ie(e){var r=e.decimalSeparator;r===void 0&&(r=".");var t=e.thousandSeparator,n=e.allowedDecimalSeparators;return t===!0&&(t=","),n||(n=[r,"."]),{decimalSeparator:r,thousandSeparator:t,allowedDecimalSeparators:n}}function He(e,r){e===void 0&&(e="");var t=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=t.test(e),o=n.test(e);return e=e.replace(/-/g,""),a&&!o&&r&&(e="-"+e),e}function Je(e,r){return new RegExp("(^-)|[0-9]|"+Ve(e),"g")}function Qe(e,r,t){return e===""?!0:!(r!=null&&r.match(/\d/))&&!(t!=null&&t.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Xe(e,r,t){var n;r===void 0&&(r=Ue(e));var a=t.allowNegative,o=t.prefix;o===void 0&&(o="");var f=t.suffix;f===void 0&&(f="");var m=t.decimalScale,V=r.from,y=r.to,S=y.start,g=y.end,h=ie(t),x=h.allowedDecimalSeparators,v=h.decimalSeparator,I=e[g]===v;if(ae(e)&&(e===o||e===f)&&r.lastValue==="")return e;if(g-S===1&&x.indexOf(e[S])!==-1){var C=m===0?"":v;e=e.substring(0,S)+C+e.substring(S+1,e.length)}var d=function(l,N,A){var R=!1,E=!1;o.startsWith("-")?R=!1:l.startsWith("--")?(R=!1,E=!0):f.startsWith("-")&&l.length===f.length?R=!1:l[0]==="-"&&(R=!0);var B=R?1:0;return E&&(B=2),B&&(l=l.substring(B),N-=B,A-=B),{value:l,start:N,end:A,hasNegation:R}},O=d(e,S,g),T=O.hasNegation;n=O,e=n.value,S=n.start,g=n.end;var k=d(r.lastValue,V.start,V.end),j=k.start,z=k.end,P=k.value,b=e.substring(S,g);e.length&&P.length&&(j>P.length-f.length||z<o.length)&&!(b&&f.startsWith(b))&&(e=P);var M=0;e.startsWith(o)?M+=o.length:S<o.length&&(M=S),e=e.substring(M),g-=M;var U=e.length,L=e.length-f.length;e.endsWith(f)?U=L:(g>L||g>e.length-f.length)&&(U=g),e=e.substring(0,U),e=He(T?"-"+e:e,a),e=(e.match(Je(v))||[]).join("");var W=e.indexOf(v);e=e.replace(new RegExp(Ve(v),"g"),function(l,N){return N===W?".":""});var $=se(e,a),J=$.beforeDecimal,ee=$.afterDecimal,s=$.addNegation;return y.end-y.start<V.end-V.start&&J===""&&I&&!parseFloat(ee)&&(e=s?"-":""),e}function Ye(e,r){var t=r.prefix;t===void 0&&(t="");var n=r.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";a.fill(!1,0,t.length+(o?1:0));var f=e.length;return a.fill(!1,f-n.length+1,f+1),a}function er(e){var r=ie(e),t=r.thousandSeparator,n=r.decimalSeparator,a=e.prefix;a===void 0&&(a="");var o=e.allowNegative;if(o===void 0&&(o=!0),t===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+t+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function rr(e){e=er(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var r=e.suffix,t=e.allowNegative,n=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=q);var o=e.onBlur;o===void 0&&(o=q);var f=e.thousandSeparator,m=e.decimalScale,V=e.fixedDecimalScale,y=e.prefix;y===void 0&&(y="");var S=e.defaultValue,g=e.value,h=e.valueIsNumericString,x=e.onValueChange,v=xe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),I=ie(e),C=I.decimalSeparator,d=I.allowedDecimalSeparators,O=function(s){return Se(s,e)},T=function(s,l){return Xe(s,l,e)},k=Y(g)?S:g,j=h??Qe(k,y,r);Y(g)?Y(S)||(j=j||typeof S=="number"):j=j||typeof g=="number";var z=function(s){return pe(s)?s:(typeof s=="number"&&(s=be(s)),j&&typeof m=="number"?me(s,m,!!V):s)},P=we(z(g),z(S),!!j,O,T,x),b=P[0],M=b.numAsString,U=b.formattedValue,L=P[1],W=function(s){var l=s.target,N=s.key,A=l.selectionStart,R=l.selectionEnd,E=l.value;if(E===void 0&&(E=""),(N==="Backspace"||N==="Delete")&&R<y.length){s.preventDefault();return}if(A!==R){a(s);return}N==="Backspace"&&E[0]==="-"&&A===y.length+1&&t&&H(l,1),m&&V&&(N==="Backspace"&&E[A-1]===C?(H(l,A-1),s.preventDefault()):N==="Delete"&&E[A]===C&&s.preventDefault()),d!=null&&d.includes(N)&&E[A]===C&&H(l,A+1);var B=f===!0?",":f;N==="Backspace"&&E[A-1]===B&&H(l,A-1),N==="Delete"&&E[A]===B&&H(l,A+1),a(s)},$=function(s){var l=M;if(l.match(/\d/g)||(l=""),n||(l=Le(l)),V&&m&&(l=me(l,m,V)),l!==M){var N=Se(l,e);L({formattedValue:N,value:l,floatValue:parseFloat(l)},{event:s,source:te.event})}o(s)},J=function(s){return s===C?!0:ae(s)},ee=function(s){var l=s.currentValue,N=s.lastValue,A=s.formattedValue,R=s.currentValueIndex,E=s.formattedValueIndex,B=l[R],Q=A[E],oe=Ne(N,l),re=oe.to,ne=function(ue){return T(ue).indexOf(".")+y.length};return g===0&&V&&m&&l[re.start]===C&&ne(l)<R&&ne(A)>E?!1:R>=re.start&&R<re.end&&d&&d.includes(B)&&Q===C?!0:B===Q};return Object.assign(Object.assign({},v),{value:U,valueIsNumericString:!1,isValidInputCharacter:J,isCharacterSame:ee,onValueChange:L,format:O,removeFormatting:T,getCaretBoundary:function(s){return Ye(s,e)},onKeyDown:W,onBlur:$})}function tr(e){var r=rr(e);return X.createElement(ze,Object.assign({},r))}const ar=({inputSuffix:e,inputPrefix:r,...t})=>ce.jsx(Oe,{...t,value:t.value,suffix:e,prefix:r}),nr=({onValueChange:e,...r})=>ce.jsx(tr,{customInput:ar,onValueChange:e,...r}),ur=({inputSuffix:e,inputPrefix:r,onValueChange:t,...n})=>ce.jsx(nr,{inputPrefix:r,inputSuffix:e,onValueChange:t,...n});export{ur as N,tr as a};
